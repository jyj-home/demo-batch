æ˜¯çš„ï¼Œ**Vitest æ”¯æŒä»£ç è¦†ç›–ç‡ (Coverage)**ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¸ä¼šè‡ªåŠ¨å¯ç”¨ï¼Œä½ éœ€è¦å®‰è£… `c8` æˆ– `v8-coverage` ä½œä¸ºè¦†ç›–ç‡å·¥å…·ã€‚

---

### **å¦‚ä½•åœ¨ Vitest å¯ç”¨ä»£ç è¦†ç›–ç‡ï¼Ÿ**
#### **æ–¹æ³• 1ï¼šä½¿ç”¨ `c8`ï¼ˆæ¨èï¼‰**
`c8` æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è¦†ç›–ç‡å·¥å…·ï¼Œå…¼å®¹ Vite/Vitestã€‚

#### **æ­¥éª¤ï¼š**
1. **å®‰è£… `c8`**
   ```sh
   npm install -D c8
   ```

2. **åœ¨ `vitest.config.ts` é…ç½®è¦†ç›–ç‡**ï¼š
   ```ts
   import { defineConfig } from 'vitest/config';

   export default defineConfig({
     test: {
       coverage: {
         provider: 'c8', // ä½¿ç”¨ c8 ä½œä¸ºè¦†ç›–ç‡å·¥å…·
         reporter: ['text', 'lcov'], // è¾“å‡ºæ ¼å¼ï¼Œå¯é€‰ textã€lcovã€html ç­‰
       },
     },
   });
   ```

3. **è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š**ï¼š
   ```sh
   npx vitest --coverage
   ```

4. **æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š**
   - ç»ˆç«¯ä¼šæ˜¾ç¤ºè¦†ç›–ç‡æ‘˜è¦  
   - åœ¨ `coverage/lcov-report/index.html` å¯ä»¥æŸ¥çœ‹å¯è§†åŒ– HTML æŠ¥å‘Š  

---

#### **æ–¹æ³• 2ï¼šä½¿ç”¨ `v8`ï¼ˆåŸç”Ÿæ”¯æŒï¼Œä½†åŠŸèƒ½è¾ƒå°‘ï¼‰**
Vitest è¿˜æ”¯æŒ **V8 å†…ç½®è¦†ç›–ç‡**ï¼Œä¸éœ€è¦å®‰è£… `c8`ï¼Œä½†åŠŸèƒ½è¾ƒå°‘ã€‚

#### **æ­¥éª¤ï¼š**
1. **ä¿®æ”¹ `vitest.config.ts`**ï¼š
   ```ts
   import { defineConfig } from 'vitest/config';

   export default defineConfig({
     test: {
       coverage: {
         provider: 'v8', // ä½¿ç”¨ V8 å†…ç½®è¦†ç›–ç‡
         reporter: ['text', 'json', 'html'],
       },
     },
   });
   ```

2. **è¿è¡Œè¦†ç›–ç‡æŠ¥å‘Š**
   ```sh
   npx vitest --coverage
   ```

---

### **`c8` vs `v8`ï¼Œé€‰å“ªä¸ªï¼Ÿ**
| **å·¥å…·**  | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|-----------|---------|---------|
| `c8` (æ¨è) | å…¼å®¹ Jestï¼Œæ”¯æŒ `lcov`ã€`html` å¯è§†åŒ–æŠ¥å‘Š | éœ€è¦é¢å¤–å®‰è£… |
| `v8` | é€Ÿåº¦å¿«ï¼Œæ— éœ€å®‰è£…é¢å¤–ä¾èµ– | æŠ¥å‘Šæ ¼å¼å°‘ï¼Œä¸æ”¯æŒ `lcov` |

å¦‚æœä½ éœ€è¦å®Œæ•´çš„ **HTML æŠ¥å‘Šã€IDE æ’ä»¶æ”¯æŒ (å¦‚ VSCode Jest Coverage)**ï¼Œ**æ¨èç”¨ `c8`**ã€‚  
å¦‚æœåªæ˜¯ç®€å•æŸ¥çœ‹è¦†ç›–ç‡æ•°æ®ï¼Œ**`v8` ä¹Ÿå¯ä»¥**ã€‚

---

### **ç»“è®º**
âœ… **Vitest æ”¯æŒä»£ç è¦†ç›–ç‡**  
âœ… æ¨èä½¿ç”¨ `c8`ï¼Œæä¾›æ›´ä¸°å¯Œçš„æŠ¥å‘Š  
âœ… ä½¿ç”¨ `v8` ä¹Ÿå¯ä»¥ï¼Œä½†åŠŸèƒ½è¾ƒå°‘  

ä½ å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ ğŸš€